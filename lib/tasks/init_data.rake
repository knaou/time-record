namespace :init do
  desc "Initialize data"

  task :data => :environment do
    ActiveRecord::Base.transaction do
      types = Type.order(:weight).all
      [
          ["08/01",2.8,4.3,10.3,10.9,16,15.1,19.2,19.8,25.5,29.7,31.7,nil,43.1,4.9,nil,95.2,92],
          ["08/01",13.6,4.6,19.1,10.7,24.5,15.2,28.1,20.1,25.8,nil,32.4,53.3,56.3,2.5,92,92,95.1],
          ["08/03",14.3,nil,22.2,10.8,26.4,15.1,29.5,19.6,25.7,39.9,32.1,54.2,55.8,3,97,102,nil],
          ["08/03",3,4.6,12,10.9,15,15.2,18,20,25.4,nil,31.4,41.9,43.7,4.9,89,92,89.6],
          ["08/03",3.2,4.9,10.1,13.2,14.1,nil,17.1,21.7,27.9,nil,34.3,44.9,45.5,4.8,99,102,95.4],
          ["08/05",nil,4.3,nil,10.6,nil,14.5,nil,19.6,25,nil,31.2,41.2,42.1,4.7,95,99,89.5],
          ["08/05",nil,4.4,nil,10.2,nil,14.3,nil,19.7,25.8,nil,32.1,42.2,43,5.3,92,98,nil],
          ["08/05",nil,4.4,nil,10.6,nil,16.9,nil,22.1,30.1,nil,36.3,46.8,47.5,4.8,102,105,89.6],
          ["08/08",2.7,4.4,10.3,12.6,14.5,17,18,21.4,26.5,27.9,32.8,43.1,43.8,4.9,93,96,88.9],
          ["08/08",2.9,4.8,10.8,11.4,14.4,15.4,17.8,19.7,26.5,28.9,32.7,42.2,43.9,5.1,89,90,nil],
          ["08/08",3,4.6,10.8,11,14.7,15.2,18.4,19.6,25.9,28.4,31.9,42.4,43.1,4.8,103,103,85.9],
          ["08/10",2.8,4.8,10.7,12,14.2,16.4,17.1,20.9,26.5,28,32.9,43.4,43.9,4.8,97,98,90.2],
          ["08/10",3.2,4.5,10.4,10.5,14.8,nil,17.9,22.9,29.8,29,36.1,nil,47,5,95,97,94.5],
          ["08/22",nil,4.6,nil,14.9,nil,nil,nil,23.7,31.3,nil,37.2,47.6,48.4,5.1,98,100,90],
          ["08/22",nil,4.6,nil,10.5,nil,14.9,nil,20.3,25.6,nil,nil,55.7,56.6,4.5,94,95,89.1],
          ["08/24",2.9,4.7,11,10.6,15,14.6,18.7,19.7,nil,29.2,31.2,41.3,42.1,4.9,89,94,98.2],
          ["08/24",3,4.8,10.6,11.9,15.8,16.1,19.3,20.3,27.9,30,33.9,44.3,45.2,4.9,nil,nil,94.6],
          ["08/24",3.1,4.4,10.6,10.4,14.6,14.4,18.1,18.9,24.7,28.6,30.8,41.9,42.8,5,86,92,84.1],
          ["08/26",2.9,4.3,10.9,10.6,15.3,14.4,18.5,18.5,23.8,29,29.8,40,40.9,4.5,94,94,82.8],
          ["08/26",2.9,4.4,10.8,10.4,15.6,14.5,19,19.2,25.6,29.5,31.6,41.7,42.6,4.2,87,89,87.6],
          ["08/26",2.9,4.4,10.6,16.2,15.9,21.4,19.2,25.9,31.8,29.8,38.5,48.8,49.5,4.8,85,88,93.3],
          ["08/29",nil,4.2,nil,10.2,nil,14.1,nil,18.8,25.3,nil,31.2,41.4,42.3,4.8,92,92,95.7],
          ["08/29",nil,4.6,nil,10.6,nil,14.6,nil,19,24.3,nil,30.2,40.6,41.4,5,89,94,81.6],
          ["08/31",13.7,4.9,22.1,10.8,26.7,14.9,30.5,19,24.1,nil,30.1,51.6,52.8,4.5,85,90,87.1],
          ["08/31",nil,4.4,nil,10.5,nil,14.8,nil,19,24.3,nil,30.2,40.5,41.1,4.8,87,82,nil],
          ["08/31",nil,4.5,nil,11.3,nil,15.6,nil,20.8,29.7,nil,36,47.1,48,4.2,89,90,86],
          ["09/02",nil,4.5,nil,11.8,nil,16,nil,20.3,25.8,nil,31.6,nil,43,nil,88,88,nil],
          ["09/02",nil,4.9,nil,12.2,nil,16.8,nil,21.1,27,nil,32.9,43,44.2,5,86,88,87.7],
          ["09/03",nil,4.5,nil,13.5,nil,nil,nil,21.8,27,nil,33,43.1,44.2,4.8,83,85,89.3],
          ["09/03",nil,4.3,nil,11.3,nil,15.5,nil,19.6,27.1,nil,33.4,43.5,44.7,4.8,82,82,nil],
          ["09/03",nil,4.3,nil,11.6,nil,15.5,nil,19.6,24.9,nil,30.8,41,41.9,4.2,87,86,89.5],
          ["09/03",nil,5.8,nil,12.4,nil,16.5,nil,30.7,36.2,nil,42.5,52.8,53.5,4.2,80,81,nil],
          ["09/03",nil,4.8,nil,11.3,nil,15.4,nil,20.2,25.5,nil,31.5,41.6,42.4,4.2,84,83,92],
          ["09/05",nil,4.6,nil,11,nil,15.1,nil,20.2,26.5,nil,nil,42.6,44.5,4.2,82,81,95.4],
          ["09/05",nil,4.6,nil,11.1,nil,15.1,nil,20.1,26.3,nil,32.7,nil,43.8,4.8,nil,nil,nil],
          ["09/05",nil,4.4,nil,10.4,nil,14.5,nil,19.2,24.5,nil,30.4,40.8,41.5,4.8,nil,nil,nil]
      ].each do |line|
        day = Day.find_or_create_by!(day:Date.parse(line[0]))
        types.each_with_index do |type, index|
          val = line[1 + index]
          TimeEntry.create!( day:day, type:type, second: val)
        end
      end
    end
  end

end